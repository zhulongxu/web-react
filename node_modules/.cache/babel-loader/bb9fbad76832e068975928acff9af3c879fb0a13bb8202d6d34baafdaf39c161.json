{"ast":null,"code":"import { Util } from './util';\nexport class EventObject {\n  constructor(e, props) {\n    this.isDefaultPrevented = Util.returnFalse;\n    this.isPropagationStopped = Util.returnFalse;\n    this.isImmediatePropagationStopped = Util.returnFalse;\n    this.isSimulated = false;\n    this.preventDefault = () => {\n      const e = this.originalEvent;\n      this.isDefaultPrevented = Util.returnTrue;\n      if (e && !this.isSimulated) {\n        e.preventDefault();\n      }\n    };\n    this.stopPropagation = () => {\n      const e = this.originalEvent;\n      this.isPropagationStopped = Util.returnTrue;\n      if (e && !this.isSimulated) {\n        e.stopPropagation();\n      }\n    };\n    this.stopImmediatePropagation = () => {\n      const e = this.originalEvent;\n      this.isImmediatePropagationStopped = Util.returnTrue;\n      if (e && !this.isSimulated) {\n        e.stopImmediatePropagation();\n      }\n      this.stopPropagation();\n    };\n    if (typeof e === 'string') {\n      this.type = e;\n    } else if (e.type) {\n      this.originalEvent = e;\n      this.type = e.type;\n      // Events bubbling up the document may have been marked as prevented\n      // by a handler lower down the tree; reflect the correct value.\n      this.isDefaultPrevented = e.defaultPrevented ? Util.returnTrue : Util.returnFalse;\n      // Create target properties\n      this.target = e.target;\n      this.currentTarget = e.currentTarget;\n      this.relatedTarget = e.relatedTarget;\n      this.timeStamp = e.timeStamp;\n    }\n    // Put explicitly provided properties onto the event object\n    if (props) {\n      Object.assign(this, props);\n    }\n    // Create a timestamp if incoming event doesn't have one\n    if (!this.timeStamp) {\n      this.timeStamp = Date.now();\n    }\n  }\n}\n(function (EventObject) {\n  function create(originalEvent) {\n    return originalEvent instanceof EventObject ? originalEvent : new EventObject(originalEvent);\n  }\n  EventObject.create = create;\n})(EventObject || (EventObject = {}));\n(function (EventObject) {\n  function addProperty(name, hook) {\n    Object.defineProperty(EventObject.prototype, name, {\n      enumerable: true,\n      configurable: true,\n      get: typeof hook === 'function' ?\n      // eslint-disable-next-line\n      function () {\n        if (this.originalEvent) {\n          return hook(this.originalEvent);\n        }\n      } :\n      // eslint-disable-next-line\n      function () {\n        if (this.originalEvent) {\n          return this.originalEvent[name];\n        }\n      },\n      set(value) {\n        Object.defineProperty(this, name, {\n          enumerable: true,\n          configurable: true,\n          writable: true,\n          value\n        });\n      }\n    });\n  }\n  EventObject.addProperty = addProperty;\n})(EventObject || (EventObject = {}));\n(function (EventObject) {\n  // Common event props including KeyEvent and MouseEvent specific props.\n  const commonProps = {\n    bubbles: true,\n    cancelable: true,\n    eventPhase: true,\n    detail: true,\n    view: true,\n    button: true,\n    buttons: true,\n    clientX: true,\n    clientY: true,\n    offsetX: true,\n    offsetY: true,\n    pageX: true,\n    pageY: true,\n    screenX: true,\n    screenY: true,\n    toElement: true,\n    pointerId: true,\n    pointerType: true,\n    char: true,\n    code: true,\n    charCode: true,\n    key: true,\n    keyCode: true,\n    touches: true,\n    changedTouches: true,\n    targetTouches: true,\n    which: true,\n    altKey: true,\n    ctrlKey: true,\n    metaKey: true,\n    shiftKey: true\n  };\n  Object.keys(commonProps).forEach(name => EventObject.addProperty(name, commonProps[name]));\n})(EventObject || (EventObject = {}));","map":{"version":3,"names":["Util","EventObject","constructor","e","props","isDefaultPrevented","returnFalse","isPropagationStopped","isImmediatePropagationStopped","isSimulated","preventDefault","originalEvent","returnTrue","stopPropagation","stopImmediatePropagation","type","defaultPrevented","target","currentTarget","relatedTarget","timeStamp","Object","assign","Date","now","create","addProperty","name","hook","defineProperty","prototype","enumerable","configurable","get","set","value","writable","commonProps","bubbles","cancelable","eventPhase","detail","view","button","buttons","clientX","clientY","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement","pointerId","pointerType","char","code","charCode","key","keyCode","touches","changedTouches","targetTouches","which","altKey","ctrlKey","metaKey","shiftKey","keys","forEach"],"sources":["/home/devbox/project/node_modules/.pnpm/@antv+x6-common@2.0.17/node_modules/@antv/x6-common/src/dom/event/object.ts"],"sourcesContent":["import { Util } from './util'\nimport { Store } from './store'\nimport { EventRaw } from './alias'\n\nexport class EventObject<\n  TDelegateTarget = any,\n  TData = any,\n  TCurrentTarget = any,\n  TTarget = any,\n  TEvent extends Event = Event,\n> implements EventObject.Event\n{\n  isDefaultPrevented: () => boolean = Util.returnFalse\n  isPropagationStopped: () => boolean = Util.returnFalse\n  isImmediatePropagationStopped: () => boolean = Util.returnFalse\n\n  type: string\n  originalEvent: TEvent\n\n  target: TTarget | null\n  currentTarget: TCurrentTarget | null\n  delegateTarget: TDelegateTarget | null\n  relatedTarget?: EventTarget | null\n\n  data: TData\n  result: any\n\n  timeStamp: number\n  handleObj: Store.HandlerObject\n  namespace?: string\n  rnamespace?: RegExp | null\n  isSimulated = false\n\n  constructor(e: TEvent | string, props?: Record<string, any> | null) {\n    if (typeof e === 'string') {\n      this.type = e\n    } else if (e.type) {\n      this.originalEvent = e\n      this.type = e.type\n\n      // Events bubbling up the document may have been marked as prevented\n      // by a handler lower down the tree; reflect the correct value.\n      this.isDefaultPrevented = e.defaultPrevented\n        ? Util.returnTrue\n        : Util.returnFalse\n\n      // Create target properties\n      this.target = e.target as any as TTarget\n      this.currentTarget = e.currentTarget as any as TCurrentTarget\n      this.relatedTarget = (e as any as MouseEvent).relatedTarget\n      this.timeStamp = e.timeStamp\n    }\n\n    // Put explicitly provided properties onto the event object\n    if (props) {\n      Object.assign(this, props)\n    }\n\n    // Create a timestamp if incoming event doesn't have one\n    if (!this.timeStamp) {\n      this.timeStamp = Date.now()\n    }\n  }\n\n  preventDefault = () => {\n    const e = this.originalEvent\n\n    this.isDefaultPrevented = Util.returnTrue\n\n    if (e && !this.isSimulated) {\n      e.preventDefault()\n    }\n  }\n\n  stopPropagation = () => {\n    const e = this.originalEvent\n\n    this.isPropagationStopped = Util.returnTrue\n\n    if (e && !this.isSimulated) {\n      e.stopPropagation()\n    }\n  }\n\n  stopImmediatePropagation = () => {\n    const e = this.originalEvent\n\n    this.isImmediatePropagationStopped = Util.returnTrue\n\n    if (e && !this.isSimulated) {\n      e.stopImmediatePropagation()\n    }\n\n    this.stopPropagation()\n  }\n}\n\nexport interface EventObject extends EventObject.Event {}\n\nexport namespace EventObject {\n  export function create(originalEvent: EventRaw | EventObject | string) {\n    return originalEvent instanceof EventObject\n      ? originalEvent\n      : new EventObject(originalEvent)\n  }\n}\n\nexport namespace EventObject {\n  export function addProperty(\n    name: string,\n    hook?: any | ((e: EventRaw) => any),\n  ) {\n    Object.defineProperty(EventObject.prototype, name, {\n      enumerable: true,\n      configurable: true,\n      get:\n        typeof hook === 'function'\n          ? // eslint-disable-next-line\n            function (this: EventObject) {\n              if (this.originalEvent) {\n                return (hook as any)(this.originalEvent)\n              }\n            }\n          : // eslint-disable-next-line\n            function (this: EventObject) {\n              if (this.originalEvent) {\n                return this.originalEvent[name as 'type']\n              }\n            },\n      set(value) {\n        Object.defineProperty(this, name, {\n          enumerable: true,\n          configurable: true,\n          writable: true,\n          value,\n        })\n      },\n    })\n  }\n}\n\nexport namespace EventObject {\n  // Common event props including KeyEvent and MouseEvent specific props.\n  const commonProps = {\n    bubbles: true,\n    cancelable: true,\n    eventPhase: true,\n\n    detail: true,\n    view: true,\n\n    button: true,\n    buttons: true,\n    clientX: true,\n    clientY: true,\n    offsetX: true,\n    offsetY: true,\n    pageX: true,\n    pageY: true,\n    screenX: true,\n    screenY: true,\n    toElement: true,\n\n    pointerId: true,\n    pointerType: true,\n\n    char: true,\n    code: true,\n    charCode: true,\n    key: true,\n    keyCode: true,\n\n    touches: true,\n    changedTouches: true,\n    targetTouches: true,\n\n    which: true,\n    altKey: true,\n    ctrlKey: true,\n    metaKey: true,\n    shiftKey: true,\n  }\n\n  Object.keys(commonProps).forEach((name: keyof typeof commonProps) =>\n    EventObject.addProperty(name, commonProps[name]),\n  )\n}\n\nexport namespace EventObject {\n  export interface Event {\n    // Event\n\n    bubbles: boolean | undefined\n    cancelable: boolean | undefined\n    eventPhase: number | undefined\n\n    // UIEvent\n\n    detail: number | undefined\n    view: Window | undefined\n\n    // MouseEvent\n\n    button: number | undefined\n    buttons: number | undefined\n    clientX: number | undefined\n    clientY: number | undefined\n    offsetX: number | undefined\n    offsetY: number | undefined\n    pageX: number | undefined\n    pageY: number | undefined\n    screenX: number | undefined\n    screenY: number | undefined\n    /** @deprecated */\n    toElement: Element | undefined\n\n    // PointerEvent\n\n    pointerId: number | undefined\n    pointerType: string | undefined\n\n    // KeyboardEvent\n\n    /** @deprecated */\n    char: string | undefined\n    /** @deprecated */\n    charCode: number | undefined\n    key: string | undefined\n    /** @deprecated */\n    keyCode: number | undefined\n\n    // TouchEvent\n\n    touches: TouchList | undefined\n    targetTouches: TouchList | undefined\n    changedTouches: TouchList | undefined\n\n    // MouseEvent, KeyboardEvent\n\n    which: number | undefined\n\n    // MouseEvent, KeyboardEvent, TouchEvent\n\n    altKey: boolean | undefined\n    ctrlKey: boolean | undefined\n    metaKey: boolean | undefined\n    shiftKey: boolean | undefined\n\n    type: string\n    timeStamp: number\n\n    isDefaultPrevented(): boolean\n    isImmediatePropagationStopped(): boolean\n    isPropagationStopped(): boolean\n    preventDefault(): void\n    stopImmediatePropagation(): void\n    stopPropagation(): void\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}