{"ast":null,"code":"import { NumberExt } from '@antv/x6-common';\nexport const center = createBBoxAnchor('center');\nexport const top = createBBoxAnchor('topCenter');\nexport const bottom = createBBoxAnchor('bottomCenter');\nexport const left = createBBoxAnchor('leftMiddle');\nexport const right = createBBoxAnchor('rightMiddle');\nexport const topLeft = createBBoxAnchor('topLeft');\nexport const topRight = createBBoxAnchor('topRight');\nexport const bottomLeft = createBBoxAnchor('bottomLeft');\nexport const bottomRight = createBBoxAnchor('bottomRight');\nfunction createBBoxAnchor(method) {\n  return function (view, magnet, ref, options = {}) {\n    const bbox = options.rotate ? view.getUnrotatedBBoxOfElement(magnet) : view.getBBoxOfElement(magnet);\n    const result = bbox[method];\n    result.x += NumberExt.normalizePercentage(options.dx, bbox.width);\n    result.y += NumberExt.normalizePercentage(options.dy, bbox.height);\n    const cell = view.cell;\n    return options.rotate ? result.rotate(-cell.getAngle(), cell.getBBox().getCenter()) : result;\n  };\n}","map":{"version":3,"names":["NumberExt","center","createBBoxAnchor","top","bottom","left","right","topLeft","topRight","bottomLeft","bottomRight","method","view","magnet","ref","options","bbox","rotate","getUnrotatedBBoxOfElement","getBBoxOfElement","result","x","normalizePercentage","dx","width","y","dy","height","cell","getAngle","getBBox","getCenter"],"sources":["/home/devbox/project/node_modules/.pnpm/@antv+x6@2.18.1/node_modules/@antv/x6/src/registry/node-anchor/bbox.ts"],"sourcesContent":["import { NumberExt } from '@antv/x6-common'\nimport { NodeAnchor } from './index'\n\nexport interface BBoxEndpointOptions {\n  dx?: number | string\n  dy?: number | string\n  /**\n   * Should the anchor bbox rotate with the terminal view.\n   *\n   * Default is `false`, meaning that the unrotated bbox is used.\n   */\n  rotate?: boolean\n}\n\nexport const center = createBBoxAnchor('center')\nexport const top = createBBoxAnchor('topCenter')\nexport const bottom = createBBoxAnchor('bottomCenter')\nexport const left = createBBoxAnchor('leftMiddle')\nexport const right = createBBoxAnchor('rightMiddle')\nexport const topLeft = createBBoxAnchor('topLeft')\nexport const topRight = createBBoxAnchor('topRight')\nexport const bottomLeft = createBBoxAnchor('bottomLeft')\nexport const bottomRight = createBBoxAnchor('bottomRight')\n\nfunction createBBoxAnchor(\n  method:\n    | 'center'\n    | 'topCenter'\n    | 'bottomCenter'\n    | 'leftMiddle'\n    | 'rightMiddle'\n    | 'topLeft'\n    | 'topRight'\n    | 'bottomLeft'\n    | 'bottomRight',\n): NodeAnchor.Definition<BBoxEndpointOptions> {\n  return function (view, magnet, ref, options: BBoxEndpointOptions = {}) {\n    const bbox = options.rotate\n      ? view.getUnrotatedBBoxOfElement(magnet)\n      : view.getBBoxOfElement(magnet)\n    const result = bbox[method]\n\n    result.x += NumberExt.normalizePercentage(options.dx, bbox.width)\n    result.y += NumberExt.normalizePercentage(options.dy, bbox.height)\n\n    const cell = view.cell\n    return options.rotate\n      ? result.rotate(-cell.getAngle(), cell.getBBox().getCenter())\n      : result\n  }\n}\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,iBAAiB;AAc3C,OAAO,MAAMC,MAAM,GAAGC,gBAAgB,CAAC,QAAQ,CAAC;AAChD,OAAO,MAAMC,GAAG,GAAGD,gBAAgB,CAAC,WAAW,CAAC;AAChD,OAAO,MAAME,MAAM,GAAGF,gBAAgB,CAAC,cAAc,CAAC;AACtD,OAAO,MAAMG,IAAI,GAAGH,gBAAgB,CAAC,YAAY,CAAC;AAClD,OAAO,MAAMI,KAAK,GAAGJ,gBAAgB,CAAC,aAAa,CAAC;AACpD,OAAO,MAAMK,OAAO,GAAGL,gBAAgB,CAAC,SAAS,CAAC;AAClD,OAAO,MAAMM,QAAQ,GAAGN,gBAAgB,CAAC,UAAU,CAAC;AACpD,OAAO,MAAMO,UAAU,GAAGP,gBAAgB,CAAC,YAAY,CAAC;AACxD,OAAO,MAAMQ,WAAW,GAAGR,gBAAgB,CAAC,aAAa,CAAC;AAE1D,SAASA,gBAAgBA,CACvBS,MASiB;EAEjB,OAAO,UAAUC,IAAI,EAAEC,MAAM,EAAEC,GAAG,EAAEC,OAAA,GAA+B,EAAE;IACnE,MAAMC,IAAI,GAAGD,OAAO,CAACE,MAAM,GACvBL,IAAI,CAACM,yBAAyB,CAACL,MAAM,CAAC,GACtCD,IAAI,CAACO,gBAAgB,CAACN,MAAM,CAAC;IACjC,MAAMO,MAAM,GAAGJ,IAAI,CAACL,MAAM,CAAC;IAE3BS,MAAM,CAACC,CAAC,IAAIrB,SAAS,CAACsB,mBAAmB,CAACP,OAAO,CAACQ,EAAE,EAAEP,IAAI,CAACQ,KAAK,CAAC;IACjEJ,MAAM,CAACK,CAAC,IAAIzB,SAAS,CAACsB,mBAAmB,CAACP,OAAO,CAACW,EAAE,EAAEV,IAAI,CAACW,MAAM,CAAC;IAElE,MAAMC,IAAI,GAAGhB,IAAI,CAACgB,IAAI;IACtB,OAAOb,OAAO,CAACE,MAAM,GACjBG,MAAM,CAACH,MAAM,CAAC,CAACW,IAAI,CAACC,QAAQ,EAAE,EAAED,IAAI,CAACE,OAAO,EAAE,CAACC,SAAS,EAAE,CAAC,GAC3DX,MAAM;EACZ,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}