{"ast":null,"code":"var _jsxFileName = \"/home/devbox/project/src/components/ComponentPanel.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport { Stencil } from '@antv/x6-plugin-stencil';\nimport { basicNodes, containerNodes } from '../config/componentConfig';\nimport '@antv/x6-plugin-stencil/dist/x6-plugin-stencil.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ComponentPanel = ({\n  graph\n}) => {\n  _s();\n  const stencilContainer = useRef(null);\n  useEffect(() => {\n    if (!stencilContainer.current) return;\n    const stencil = new Stencil({\n      title: '组件库',\n      target: graph,\n      stencilGraphWidth: 200,\n      stencilGraphHeight: 500,\n      collapsable: true,\n      groups: [{\n        name: 'basic',\n        title: '基础组件',\n        graphHeight: 250,\n        layoutOptions: {\n          columns: 2,\n          marginX: 10,\n          marginY: 10\n        }\n      }, {\n        name: 'container',\n        title: '容器组件',\n        graphHeight: 250,\n        layoutOptions: {\n          columns: 1,\n          marginX: 10,\n          marginY: 10\n        }\n      }],\n      getDragNode: node => {\n        return node.clone();\n      }\n    });\n    stencilContainer.current.appendChild(stencil.container);\n\n    // 添加基础组件\n    const basicStencilNodes = basicNodes.map(node => {\n      return graph.createNode(node);\n    });\n    stencil.load(basicStencilNodes, 'basic');\n\n    // 添加容器组件\n    const containerStencilNodes = containerNodes.map(node => {\n      return graph.createNode(node);\n    });\n    stencil.load(containerStencilNodes, 'container');\n    return () => {\n      stencil.dispose();\n    };\n  }, [graph]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: stencilContainer,\n    style: {\n      width: '240px',\n      height: '100%',\n      border: '1px solid #f0f0f0'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(ComponentPanel, \"8IqBnhIe3rseWzir99YpmOFsAr8=\");\n_c = ComponentPanel;\nexport default ComponentPanel;\nvar _c;\n$RefreshReg$(_c, \"ComponentPanel\");","map":{"version":3,"names":["React","useEffect","useRef","Stencil","basicNodes","containerNodes","jsxDEV","_jsxDEV","ComponentPanel","graph","_s","stencilContainer","current","stencil","title","target","stencilGraphWidth","stencilGraphHeight","collapsable","groups","name","graphHeight","layoutOptions","columns","marginX","marginY","getDragNode","node","clone","appendChild","container","basicStencilNodes","map","createNode","load","containerStencilNodes","dispose","ref","style","width","height","border","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/devbox/project/src/components/ComponentPanel.tsx"],"sourcesContent":["import { Tabs } from 'antd';\nimport { AppstoreOutlined } from '@ant-design/icons';\nimport { basicComponents } from './config/componentConfig';\nimport type { ComponentConfig } from './config/componentConfig';\n\nimport React, { useEffect, useRef } from 'react';\nimport { Graph } from '@antv/x6';\nimport { Stencil } from '@antv/x6-plugin-stencil';\nimport { basicNodes, containerNodes } from '../config/componentConfig';\nimport '@antv/x6-plugin-stencil/dist/x6-plugin-stencil.css';\n\nconst ComponentPanel: React.FC<{ graph: Graph }> = ({ graph }) => {\n  const stencilContainer = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!stencilContainer.current) return;\n\n    const stencil = new Stencil({\n      title: '组件库',\n      target: graph,\n      stencilGraphWidth: 200,\n      stencilGraphHeight: 500,\n      collapsable: true,\n      groups: [\n        {\n          name: 'basic',\n          title: '基础组件',\n          graphHeight: 250,\n          layoutOptions: {\n            columns: 2,\n            marginX: 10,\n            marginY: 10,\n          },\n        },\n        {\n          name: 'container',\n          title: '容器组件',\n          graphHeight: 250,\n          layoutOptions: {\n            columns: 1,\n            marginX: 10,\n            marginY: 10,\n          },\n        },\n      ],\n      getDragNode: (node) => {\n        return node.clone();\n      },\n    });\n\n    stencilContainer.current.appendChild(stencil.container);\n\n    // 添加基础组件\n    const basicStencilNodes = basicNodes.map((node) => {\n      return graph.createNode(node);\n    });\n    stencil.load(basicStencilNodes, 'basic');\n\n    // 添加容器组件\n    const containerStencilNodes = containerNodes.map((node) => {\n      return graph.createNode(node);\n    });\n    stencil.load(containerStencilNodes, 'container');\n\n    return () => {\n      stencil.dispose();\n    };\n  }, [graph]);\n\n  return (\n    <div \n      ref={stencilContainer} \n      style={{ \n        width: '240px',\n        height: '100%',\n        border: '1px solid #f0f0f0',\n      }} \n    />\n  );\n};\n\nexport default ComponentPanel; "],"mappings":";;AAKA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAEhD,SAASC,OAAO,QAAQ,yBAAyB;AACjD,SAASC,UAAU,EAAEC,cAAc,QAAQ,2BAA2B;AACtE,OAAO,oDAAoD;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5D,MAAMC,cAA0C,GAAGA,CAAC;EAAEC;AAAM,CAAC,KAAK;EAAAC,EAAA;EAChE,MAAMC,gBAAgB,GAAGT,MAAM,CAAiB,IAAI,CAAC;EAErDD,SAAS,CAAC,MAAM;IACd,IAAI,CAACU,gBAAgB,CAACC,OAAO,EAAE;IAE/B,MAAMC,OAAO,GAAG,IAAIV,OAAO,CAAC;MAC1BW,KAAK,EAAE,KAAK;MACZC,MAAM,EAAEN,KAAK;MACbO,iBAAiB,EAAE,GAAG;MACtBC,kBAAkB,EAAE,GAAG;MACvBC,WAAW,EAAE,IAAI;MACjBC,MAAM,EAAE,CACN;QACEC,IAAI,EAAE,OAAO;QACbN,KAAK,EAAE,MAAM;QACbO,WAAW,EAAE,GAAG;QAChBC,aAAa,EAAE;UACbC,OAAO,EAAE,CAAC;UACVC,OAAO,EAAE,EAAE;UACXC,OAAO,EAAE;QACX;MACF,CAAC,EACD;QACEL,IAAI,EAAE,WAAW;QACjBN,KAAK,EAAE,MAAM;QACbO,WAAW,EAAE,GAAG;QAChBC,aAAa,EAAE;UACbC,OAAO,EAAE,CAAC;UACVC,OAAO,EAAE,EAAE;UACXC,OAAO,EAAE;QACX;MACF,CAAC,CACF;MACDC,WAAW,EAAGC,IAAI,IAAK;QACrB,OAAOA,IAAI,CAACC,KAAK,CAAC,CAAC;MACrB;IACF,CAAC,CAAC;IAEFjB,gBAAgB,CAACC,OAAO,CAACiB,WAAW,CAAChB,OAAO,CAACiB,SAAS,CAAC;;IAEvD;IACA,MAAMC,iBAAiB,GAAG3B,UAAU,CAAC4B,GAAG,CAAEL,IAAI,IAAK;MACjD,OAAOlB,KAAK,CAACwB,UAAU,CAACN,IAAI,CAAC;IAC/B,CAAC,CAAC;IACFd,OAAO,CAACqB,IAAI,CAACH,iBAAiB,EAAE,OAAO,CAAC;;IAExC;IACA,MAAMI,qBAAqB,GAAG9B,cAAc,CAAC2B,GAAG,CAAEL,IAAI,IAAK;MACzD,OAAOlB,KAAK,CAACwB,UAAU,CAACN,IAAI,CAAC;IAC/B,CAAC,CAAC;IACFd,OAAO,CAACqB,IAAI,CAACC,qBAAqB,EAAE,WAAW,CAAC;IAEhD,OAAO,MAAM;MACXtB,OAAO,CAACuB,OAAO,CAAC,CAAC;IACnB,CAAC;EACH,CAAC,EAAE,CAAC3B,KAAK,CAAC,CAAC;EAEX,oBACEF,OAAA;IACE8B,GAAG,EAAE1B,gBAAiB;IACtB2B,KAAK,EAAE;MACLC,KAAK,EAAE,OAAO;MACdC,MAAM,EAAE,MAAM;MACdC,MAAM,EAAE;IACV;EAAE;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEN,CAAC;AAACnC,EAAA,CApEIF,cAA0C;AAAAsC,EAAA,GAA1CtC,cAA0C;AAsEhD,eAAeA,cAAc;AAAC,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}