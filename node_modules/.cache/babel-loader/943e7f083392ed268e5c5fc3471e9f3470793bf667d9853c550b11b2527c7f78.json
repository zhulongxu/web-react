{"ast":null,"code":"import { FunctionExt } from '@antv/x6-common';\nimport { ConnectionStrategy } from '../connection-strategy';\nexport function getAnchor(pos, terminalView, terminalMagnet, type) {\n  const end = FunctionExt.call(ConnectionStrategy.presets.pinRelative, this.graph, {}, terminalView, terminalMagnet, pos, this.cell, type, {});\n  return end.anchor;\n}\nexport function getViewBBox(view, quick) {\n  if (quick) {\n    return view.cell.getBBox();\n  }\n  return view.cell.isEdge() ? view.getConnection().bbox() : view.getUnrotatedBBoxOfElement(view.container);\n}","map":{"version":3,"names":["FunctionExt","ConnectionStrategy","getAnchor","pos","terminalView","terminalMagnet","type","end","call","presets","pinRelative","graph","cell","anchor","getViewBBox","view","quick","getBBox","isEdge","getConnection","bbox","getUnrotatedBBoxOfElement","container"],"sources":["/home/devbox/project/node_modules/.pnpm/@antv+x6@2.18.1/node_modules/@antv/x6/src/registry/tool/util.ts"],"sourcesContent":["import { FunctionExt } from '@antv/x6-common'\nimport { Point } from '@antv/x6-geometry'\nimport { ConnectionStrategy } from '../connection-strategy'\nimport { Edge } from '../../model/edge'\nimport { CellView } from '../../view/cell'\nimport { EdgeView } from '../../view/edge'\n\nexport function getAnchor(\n  this: EdgeView,\n  pos: Point.PointLike,\n  terminalView: CellView,\n  terminalMagnet: Element,\n  type: Edge.TerminalType,\n) {\n  const end = FunctionExt.call(\n    ConnectionStrategy.presets.pinRelative,\n    this.graph,\n    {} as Edge.TerminalCellData,\n    terminalView,\n    terminalMagnet,\n    pos,\n    this.cell,\n    type,\n    {},\n  )\n\n  return end.anchor\n}\n\nexport function getViewBBox(view: CellView, quick?: boolean) {\n  if (quick) {\n    return view.cell.getBBox()\n  }\n\n  return view.cell.isEdge()\n    ? (view as EdgeView).getConnection()!.bbox()!\n    : view.getUnrotatedBBoxOfElement(view.container as SVGElement)\n}\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,iBAAiB;AAE7C,SAASC,kBAAkB,QAAQ,wBAAwB;AAK3D,OAAM,SAAUC,SAASA,CAEvBC,GAAoB,EACpBC,YAAsB,EACtBC,cAAuB,EACvBC,IAAuB;EAEvB,MAAMC,GAAG,GAAGP,WAAW,CAACQ,IAAI,CAC1BP,kBAAkB,CAACQ,OAAO,CAACC,WAAW,EACtC,IAAI,CAACC,KAAK,EACV,EAA2B,EAC3BP,YAAY,EACZC,cAAc,EACdF,GAAG,EACH,IAAI,CAACS,IAAI,EACTN,IAAI,EACJ,EAAE,CACH;EAED,OAAOC,GAAG,CAACM,MAAM;AACnB;AAEA,OAAM,SAAUC,WAAWA,CAACC,IAAc,EAAEC,KAAe;EACzD,IAAIA,KAAK,EAAE;IACT,OAAOD,IAAI,CAACH,IAAI,CAACK,OAAO,EAAE;;EAG5B,OAAOF,IAAI,CAACH,IAAI,CAACM,MAAM,EAAE,GACpBH,IAAiB,CAACI,aAAa,EAAG,CAACC,IAAI,EAAG,GAC3CL,IAAI,CAACM,yBAAyB,CAACN,IAAI,CAACO,SAAuB,CAAC;AAClE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}