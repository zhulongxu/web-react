{"ast":null,"code":"export class Dictionary {\n  constructor() {\n    this.clear();\n  }\n  clear() {\n    this.map = new WeakMap();\n    this.arr = [];\n  }\n  has(key) {\n    return this.map.has(key);\n  }\n  get(key) {\n    return this.map.get(key);\n  }\n  set(key, value) {\n    this.map.set(key, value);\n    this.arr.push(key);\n  }\n  delete(key) {\n    const index = this.arr.indexOf(key);\n    if (index >= 0) {\n      this.arr.splice(index, 1);\n    }\n    const ret = this.map.get(key);\n    this.map.delete(key);\n    return ret;\n  }\n  each(iterator) {\n    this.arr.forEach(key => {\n      const value = this.map.get(key);\n      iterator(value, key);\n    });\n  }\n  dispose() {\n    this.clear();\n  }\n}","map":{"version":3,"names":["Dictionary","constructor","clear","map","WeakMap","arr","has","key","get","set","value","push","delete","index","indexOf","splice","ret","each","iterator","forEach","dispose"],"sources":["/home/devbox/project/node_modules/.pnpm/@antv+x6-common@2.0.17/node_modules/@antv/x6-common/src/dictionary/dictionary.ts"],"sourcesContent":["export class Dictionary<T extends Record<string, any>, V> {\n  private map: WeakMap<T, V>\n  private arr: T[]\n\n  constructor() {\n    this.clear()\n  }\n\n  clear() {\n    this.map = new WeakMap<T, V>()\n    this.arr = []\n  }\n\n  has(key: T) {\n    return this.map.has(key)\n  }\n\n  get(key: T) {\n    return this.map.get(key)\n  }\n\n  set(key: T, value: V) {\n    this.map.set(key, value)\n    this.arr.push(key)\n  }\n\n  delete(key: T) {\n    const index = this.arr.indexOf(key)\n    if (index >= 0) {\n      this.arr.splice(index, 1)\n    }\n    const ret = this.map.get(key)\n    this.map.delete(key)\n    return ret\n  }\n\n  each(iterator: (value: V, key: T) => void) {\n    this.arr.forEach((key) => {\n      const value = this.map.get(key)!\n      iterator(value, key)\n    })\n  }\n\n  dispose() {\n    this.clear()\n  }\n}\n"],"mappings":"AAAA,OAAM,MAAOA,UAAU;EAIrBC,YAAA;IACE,IAAI,CAACC,KAAK,EAAE;EACd;EAEAA,KAAKA,CAAA;IACH,IAAI,CAACC,GAAG,GAAG,IAAIC,OAAO,EAAQ;IAC9B,IAAI,CAACC,GAAG,GAAG,EAAE;EACf;EAEAC,GAAGA,CAACC,GAAM;IACR,OAAO,IAAI,CAACJ,GAAG,CAACG,GAAG,CAACC,GAAG,CAAC;EAC1B;EAEAC,GAAGA,CAACD,GAAM;IACR,OAAO,IAAI,CAACJ,GAAG,CAACK,GAAG,CAACD,GAAG,CAAC;EAC1B;EAEAE,GAAGA,CAACF,GAAM,EAAEG,KAAQ;IAClB,IAAI,CAACP,GAAG,CAACM,GAAG,CAACF,GAAG,EAAEG,KAAK,CAAC;IACxB,IAAI,CAACL,GAAG,CAACM,IAAI,CAACJ,GAAG,CAAC;EACpB;EAEAK,MAAMA,CAACL,GAAM;IACX,MAAMM,KAAK,GAAG,IAAI,CAACR,GAAG,CAACS,OAAO,CAACP,GAAG,CAAC;IACnC,IAAIM,KAAK,IAAI,CAAC,EAAE;MACd,IAAI,CAACR,GAAG,CAACU,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;;IAE3B,MAAMG,GAAG,GAAG,IAAI,CAACb,GAAG,CAACK,GAAG,CAACD,GAAG,CAAC;IAC7B,IAAI,CAACJ,GAAG,CAACS,MAAM,CAACL,GAAG,CAAC;IACpB,OAAOS,GAAG;EACZ;EAEAC,IAAIA,CAACC,QAAoC;IACvC,IAAI,CAACb,GAAG,CAACc,OAAO,CAAEZ,GAAG,IAAI;MACvB,MAAMG,KAAK,GAAG,IAAI,CAACP,GAAG,CAACK,GAAG,CAACD,GAAG,CAAE;MAChCW,QAAQ,CAACR,KAAK,EAAEH,GAAG,CAAC;IACtB,CAAC,CAAC;EACJ;EAEAa,OAAOA,CAAA;IACL,IAAI,CAAClB,KAAK,EAAE;EACd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}