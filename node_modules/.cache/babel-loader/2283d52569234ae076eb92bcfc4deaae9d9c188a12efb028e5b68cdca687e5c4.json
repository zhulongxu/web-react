{"ast":null,"code":"export { has, pick, merge, isEqual, isEmpty, isObject, isPlainObject, clone, cloneDeep, defaults, defaultsDeep } from 'lodash-es';\nexport * from './mixins';\nexport * from './inherit';\nexport function ensure(value, defaultValue) {\n  return value != null ? value : defaultValue;\n}\nexport function getValue(obj, key, defaultValue) {\n  const value = obj != null ? obj[key] : null;\n  return defaultValue !== undefined ? ensure(value, defaultValue) : value;\n}\nexport function getNumber(obj, key, defaultValue) {\n  let value = obj != null ? obj[key] : null;\n  if (value == null) {\n    return defaultValue;\n  }\n  value = +value;\n  if (Number.isNaN(value) || !Number.isFinite(value)) {\n    return defaultValue;\n  }\n  return value;\n}\nexport function getBoolean(obj, key, defaultValue) {\n  const value = obj != null ? obj[key] : null;\n  if (value == null) {\n    return defaultValue;\n  }\n  return !!value;\n}\nexport function isMaliciousProp(prop) {\n  return prop === '__proto__';\n}\nexport function getByPath(obj, path, delimiter = '/') {\n  let ret;\n  const keys = Array.isArray(path) ? path : path.split(delimiter);\n  if (keys.length) {\n    ret = obj;\n    while (keys.length) {\n      const key = keys.shift();\n      if (Object(ret) === ret && key && key in ret) {\n        ret = ret[key];\n      } else {\n        return undefined;\n      }\n    }\n  }\n  return ret;\n}\nexport function setByPath(obj, path, value, delimiter = '/') {\n  const keys = Array.isArray(path) ? path : path.split(delimiter);\n  const lastKey = keys.pop();\n  if (lastKey && !isMaliciousProp(lastKey)) {\n    let diver = obj;\n    keys.forEach(key => {\n      if (!isMaliciousProp(key)) {\n        if (diver[key] == null) {\n          diver[key] = {};\n        }\n        diver = diver[key];\n      }\n    });\n    diver[lastKey] = value;\n  }\n  return obj;\n}\nexport function unsetByPath(obj, path, delimiter = '/') {\n  const keys = Array.isArray(path) ? path.slice() : path.split(delimiter);\n  const propertyToRemove = keys.pop();\n  if (propertyToRemove) {\n    if (keys.length > 0) {\n      const parent = getByPath(obj, keys);\n      if (parent) {\n        delete parent[propertyToRemove];\n      }\n    } else {\n      delete obj[propertyToRemove];\n    }\n  }\n  return obj;\n}\n// eslint-disable-next-line default-param-last\nexport function flatten(obj, delim = '/', stop) {\n  const ret = {};\n  Object.keys(obj).forEach(key => {\n    const val = obj[key];\n    let deep = typeof val === 'object' || Array.isArray(val);\n    if (deep && stop && stop(val)) {\n      deep = false;\n    }\n    if (deep) {\n      const flatObject = flatten(val, delim, stop);\n      Object.keys(flatObject).forEach(flatKey => {\n        ret[key + delim + flatKey] = flatObject[flatKey];\n      });\n    } else {\n      ret[key] = val;\n    }\n  });\n  // eslint-disable-next-line no-restricted-syntax\n  for (const key in obj) {\n    if (!Object.prototype.hasOwnProperty.call(obj, key)) {\n      continue;\n    }\n  }\n  return ret;\n}","map":{"version":3,"names":["has","pick","merge","isEqual","isEmpty","isObject","isPlainObject","clone","cloneDeep","defaults","defaultsDeep","ensure","value","defaultValue","getValue","obj","key","undefined","getNumber","Number","isNaN","isFinite","getBoolean","isMaliciousProp","prop","getByPath","path","delimiter","ret","keys","Array","isArray","split","length","shift","Object","setByPath","lastKey","pop","diver","forEach","unsetByPath","slice","propertyToRemove","parent","flatten","delim","stop","val","deep","flatObject","flatKey","prototype","hasOwnProperty","call"],"sources":["/home/devbox/project/node_modules/.pnpm/@antv+x6-common@2.0.17/node_modules/@antv/x6-common/src/object/object.ts"],"sourcesContent":["export {\n  has,\n  pick,\n  merge,\n  isEqual,\n  isEmpty,\n  isObject,\n  isPlainObject,\n  clone,\n  cloneDeep,\n  defaults,\n  defaultsDeep,\n} from 'lodash-es'\n\nexport * from './mixins'\nexport * from './inherit'\n\nexport function ensure<T>(value: T | null | undefined, defaultValue: T) {\n  return value != null ? value : defaultValue!\n}\n\nexport function getValue<T>(obj: any, key: string, defaultValue?: T): T | null {\n  const value = obj != null ? obj[key] : null\n  return defaultValue !== undefined ? ensure<T>(value, defaultValue) : value\n}\n\nexport function getNumber(obj: any, key: string, defaultValue: number) {\n  let value = obj != null ? obj[key] : null\n  if (value == null) {\n    return defaultValue\n  }\n\n  value = +value\n  if (Number.isNaN(value) || !Number.isFinite(value)) {\n    return defaultValue\n  }\n\n  return value as number\n}\n\nexport function getBoolean(obj: any, key: string, defaultValue: boolean) {\n  const value = obj != null ? obj[key] : null\n  if (value == null) {\n    return defaultValue\n  }\n\n  return !!value\n}\n\nexport function isMaliciousProp(prop: string): boolean {\n  return prop === '__proto__'\n}\n\nexport function getByPath(\n  obj: any,\n  path: string | string[],\n  delimiter: string | RegExp = '/',\n) {\n  let ret\n  const keys = Array.isArray(path) ? path : path.split(delimiter)\n  if (keys.length) {\n    ret = obj\n    while (keys.length) {\n      const key = keys.shift()\n      if (Object(ret) === ret && key && key in ret) {\n        ret = ret[key]\n      } else {\n        return undefined\n      }\n    }\n  }\n\n  return ret\n}\n\nexport function setByPath(\n  obj: any,\n  path: string | string[],\n  value: any,\n  delimiter: string | RegExp = '/',\n) {\n  const keys = Array.isArray(path) ? path : path.split(delimiter)\n  const lastKey = keys.pop()\n  if (lastKey && !isMaliciousProp(lastKey)) {\n    let diver = obj\n    keys.forEach((key) => {\n      if (!isMaliciousProp(key)) {\n        if (diver[key] == null) {\n          diver[key] = {}\n        }\n        diver = diver[key]\n      }\n    })\n    diver[lastKey] = value\n  }\n  return obj\n}\n\nexport function unsetByPath(\n  obj: any,\n  path: string | string[],\n  delimiter: string | RegExp = '/',\n) {\n  const keys = Array.isArray(path) ? path.slice() : path.split(delimiter)\n  const propertyToRemove = keys.pop()\n  if (propertyToRemove) {\n    if (keys.length > 0) {\n      const parent = getByPath(obj, keys)\n      if (parent) {\n        delete parent[propertyToRemove]\n      }\n    } else {\n      delete obj[propertyToRemove]\n    }\n  }\n\n  return obj\n}\n\n// eslint-disable-next-line default-param-last\nexport function flatten(obj: any, delim = '/', stop?: (val: any) => boolean) {\n  const ret: { [key: string]: any } = {}\n\n  Object.keys(obj).forEach((key) => {\n    const val = obj[key]\n    let deep = typeof val === 'object' || Array.isArray(val)\n    if (deep && stop && stop(val)) {\n      deep = false\n    }\n\n    if (deep) {\n      const flatObject = flatten(val, delim, stop)\n      Object.keys(flatObject).forEach((flatKey) => {\n        ret[key + delim + flatKey] = flatObject[flatKey]\n      })\n    } else {\n      ret[key] = val\n    }\n  })\n\n  // eslint-disable-next-line no-restricted-syntax\n  for (const key in obj) {\n    if (!Object.prototype.hasOwnProperty.call(obj, key)) {\n      continue\n    }\n  }\n\n  return ret\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}