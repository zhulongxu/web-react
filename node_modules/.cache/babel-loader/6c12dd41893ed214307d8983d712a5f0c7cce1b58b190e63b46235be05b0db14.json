{"ast":null,"code":"import { NumberExt } from '@antv/x6-common';\nimport { Point } from '@antv/x6-geometry';\n// `x-align` when set to `middle` causes centering of the subelement around its new x coordinate.\n// `x-align` when set to `right` uses the x coordinate as referenced to the right of the bbox.\nexport const xAlign = {\n  offset: offsetWrapper('x', 'width', 'right')\n};\n// `y-align` when set to `middle` causes centering of the subelement around its new y coordinate.\n// `y-align` when set to `bottom` uses the y coordinate as referenced to the bottom of the bbox.\nexport const yAlign = {\n  offset: offsetWrapper('y', 'height', 'bottom')\n};\nexport const resetOffset = {\n  offset(val, {\n    refBBox\n  }) {\n    return val ? {\n      x: -refBBox.x,\n      y: -refBBox.y\n    } : {\n      x: 0,\n      y: 0\n    };\n  }\n};\nfunction offsetWrapper(axis, dimension, corner) {\n  return (value, {\n    refBBox\n  }) => {\n    const point = new Point();\n    let delta;\n    if (value === 'middle') {\n      delta = refBBox[dimension] / 2;\n    } else if (value === corner) {\n      delta = refBBox[dimension];\n    } else if (typeof value === 'number' && Number.isFinite(value)) {\n      delta = value > -1 && value < 1 ? -refBBox[dimension] * value : -value;\n    } else if (NumberExt.isPercentage(value)) {\n      delta = refBBox[dimension] * parseFloat(value) / 100;\n    } else {\n      delta = 0;\n    }\n    point[axis] = -(refBBox[axis] + delta);\n    return point;\n  };\n}","map":{"version":3,"names":["NumberExt","Point","xAlign","offset","offsetWrapper","yAlign","resetOffset","val","refBBox","x","y","axis","dimension","corner","value","point","delta","Number","isFinite","isPercentage","parseFloat"],"sources":["/home/devbox/project/node_modules/.pnpm/@antv+x6@2.18.1/node_modules/@antv/x6/src/registry/attr/align.ts"],"sourcesContent":["import { NumberExt } from '@antv/x6-common'\nimport { Point } from '@antv/x6-geometry'\nimport { Attr } from './index'\n\n// `x-align` when set to `middle` causes centering of the subelement around its new x coordinate.\n// `x-align` when set to `right` uses the x coordinate as referenced to the right of the bbox.\nexport const xAlign: Attr.Definition = {\n  offset: offsetWrapper('x', 'width', 'right'),\n}\n\n// `y-align` when set to `middle` causes centering of the subelement around its new y coordinate.\n// `y-align` when set to `bottom` uses the y coordinate as referenced to the bottom of the bbox.\nexport const yAlign: Attr.Definition = {\n  offset: offsetWrapper('y', 'height', 'bottom'),\n}\n\nexport const resetOffset: Attr.Definition = {\n  offset(val, { refBBox }) {\n    return val ? { x: -refBBox.x, y: -refBBox.y } : { x: 0, y: 0 }\n  },\n}\n\nfunction offsetWrapper(\n  axis: 'x' | 'y',\n  dimension: 'width' | 'height',\n  corner: 'right' | 'bottom',\n): Attr.OffsetFunction {\n  return (value, { refBBox }) => {\n    const point = new Point()\n    let delta\n    if (value === 'middle') {\n      delta = refBBox[dimension] / 2\n    } else if (value === corner) {\n      delta = refBBox[dimension]\n    } else if (typeof value === 'number' && Number.isFinite(value)) {\n      delta = value > -1 && value < 1 ? -refBBox[dimension] * value : -value\n    } else if (NumberExt.isPercentage(value)) {\n      delta = (refBBox[dimension] * parseFloat(value)) / 100\n    } else {\n      delta = 0\n    }\n    point[axis] = -(refBBox[axis] + delta)\n    return point\n  }\n}\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,KAAK,QAAQ,mBAAmB;AAGzC;AACA;AACA,OAAO,MAAMC,MAAM,GAAoB;EACrCC,MAAM,EAAEC,aAAa,CAAC,GAAG,EAAE,OAAO,EAAE,OAAO;CAC5C;AAED;AACA;AACA,OAAO,MAAMC,MAAM,GAAoB;EACrCF,MAAM,EAAEC,aAAa,CAAC,GAAG,EAAE,QAAQ,EAAE,QAAQ;CAC9C;AAED,OAAO,MAAME,WAAW,GAAoB;EAC1CH,MAAMA,CAACI,GAAG,EAAE;IAAEC;EAAO,CAAE;IACrB,OAAOD,GAAG,GAAG;MAAEE,CAAC,EAAE,CAACD,OAAO,CAACC,CAAC;MAAEC,CAAC,EAAE,CAACF,OAAO,CAACE;IAAC,CAAE,GAAG;MAAED,CAAC,EAAE,CAAC;MAAEC,CAAC,EAAE;IAAC,CAAE;EAChE;CACD;AAED,SAASN,aAAaA,CACpBO,IAAe,EACfC,SAA6B,EAC7BC,MAA0B;EAE1B,OAAO,CAACC,KAAK,EAAE;IAAEN;EAAO,CAAE,KAAI;IAC5B,MAAMO,KAAK,GAAG,IAAId,KAAK,EAAE;IACzB,IAAIe,KAAK;IACT,IAAIF,KAAK,KAAK,QAAQ,EAAE;MACtBE,KAAK,GAAGR,OAAO,CAACI,SAAS,CAAC,GAAG,CAAC;KAC/B,MAAM,IAAIE,KAAK,KAAKD,MAAM,EAAE;MAC3BG,KAAK,GAAGR,OAAO,CAACI,SAAS,CAAC;KAC3B,MAAM,IAAI,OAAOE,KAAK,KAAK,QAAQ,IAAIG,MAAM,CAACC,QAAQ,CAACJ,KAAK,CAAC,EAAE;MAC9DE,KAAK,GAAGF,KAAK,GAAG,CAAC,CAAC,IAAIA,KAAK,GAAG,CAAC,GAAG,CAACN,OAAO,CAACI,SAAS,CAAC,GAAGE,KAAK,GAAG,CAACA,KAAK;KACvE,MAAM,IAAId,SAAS,CAACmB,YAAY,CAACL,KAAK,CAAC,EAAE;MACxCE,KAAK,GAAIR,OAAO,CAACI,SAAS,CAAC,GAAGQ,UAAU,CAACN,KAAK,CAAC,GAAI,GAAG;KACvD,MAAM;MACLE,KAAK,GAAG,CAAC;;IAEXD,KAAK,CAACJ,IAAI,CAAC,GAAG,EAAEH,OAAO,CAACG,IAAI,CAAC,GAAGK,KAAK,CAAC;IACtC,OAAOD,KAAK;EACd,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}